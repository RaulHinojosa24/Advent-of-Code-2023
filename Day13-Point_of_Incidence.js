const DATA = `.###...##
##..#....
##..#..#.
......###
#..##..##
######.#.
.#.###..#
#####.#.#
##..#..##
##..#..##
#####.#.#
.#.###..#
######.#.
#..##..##
......###
##..#..#.
##..#....

.#....#..#...
#..##..##....
...##...#.##.
...##...###.#
.##..##.#.#.#
.##..##.#.###
...##...###.#

....#.##..##.
....##......#
.##.##......#
#..####.##.##
####....##...
#..##..#..#..
.##.####..###
#..###..##..#
####..#.##.#.
....###....##
.....#..##..#
.....##...###
....#.#....#.

.######..##..##
.#.##.#.####.##
.#.##.#.####..#
.######..##..##
.#....#.#..#.##
########...#...
..####.........
..#..#..##.###.
#.#..#.#..####.

..#.#.##.##.#
##.#.#.#..##.
....##..##.#.
..#..###...#.
#.###..#....#
..###..#.#.##
#..#.####..##
....#.######.
#.##.....#.#.
..##.########
..##.##.#####
###.##.####..
###.##.####..
..##.##.#####
..##.########

#.#######
....#####
..##.....
.#.######
.#..#....
#........
..#...##.
#.###....
###.##..#
.########
#.##.#..#
.#.###..#
..###....
..###....
...###..#

#.##.######.##.##
###...####...####
....##.##.##.....
#..#.#....#.#..##
.....##..##......
#.#.###..###.#.##
.##.#.####.#.#...
.#..#......#..#..
.####.####.####..
###...####...####
#.##........##.##
.#....#..#....#..
..###.####.###...

.##.#.....#..
......#...###
.##..#..#....
.##.##..#....
.......#...##
.##..#.##...#
.....####..##
#..#.#..#####
####.#.#.####
.##.#.##..#..
.##.#####.#..
#..#.##..##..
####.###..#..

##.#...#..#
##.#...#..#
###....#..#
####.####.#
.###..#.##.
###...##.##
#...###.#..
#...###.#..
###...##.##
.###..#.##.
####.####.#
###....#..#
##.##..#..#

.#.##..#..###.###
#..#..##.########
..##..#.#...#####
.#...#..##....##.
#.####......##.##
#.#...##.#.###...
#.#...##.#.###...

.#..###..###..#
.#..#.####.#..#
#.##.##..##.##.
..##.#.##.#.##.
##..##....##..#
#.##...##...##.
..##..#..#..##.
#.##..####..##.
#....##..##....
.##############
###.###..###.##
#####.#..#.####
#######..######
.#..#.####.#..#
#....#.##.#....

....#..########..
...#....######...
.......#.####.#..
####.##.#.##.#.##
.##.##..#....#..#
..#.####..##..###
...#..#..#..#..#.

##..##..######.
##..##..##..##.
#.#.##.#.#..#.#
###....########
##.......####..
.##....##....##
.#.#..#.#....#.
####..#########
###.##.###..###
.########....##
..######..##..#

###..............
.######.####.####
.#..##.######.##.
##.....#.##.#....
..#####.#..#.####
#.#....######....
##..##.######.##.
###.##..#..#..##.
...##############
.#....#.#..#.#...
#.#..............

#.##.#...##...#
#############.#
#.##.#.#....#.#
..##..##....##.
..##..########.
#.##.#..#..#..#
.#..#.###..###.
.####.#......#.
#.##.#.##..##.#
........#..#...
.####..######..
........#..#...
........####...
.####.##....##.
..##..##....##.

#.##....##.#.
#....##....#.
###......###.
###......###.
#....##....#.
#.##....##.#.
#.#......#.##
.#..####....#
.#...##...#.#
.##......##.#
...######...#
###.####.###.
...######...#
##.##..##.###
.####..####..

..###..#..#...#
..###..#..#...#
#.##..##..#.#.#
..#..#....##..#
##..##.##.#####
....####.#....#
##..#..#.##...#
.#...#####..##.
.#...#####..##.
##..#..#.##.#.#
....####.#....#

...##.#..##
..#.##.####
..#.###....
######.##..
...#.#..#..
...#.....#.
##..#...###

#....##..####..
......#.##..##.
.####..#####..#
#######.##..##.
.#..#...######.
##..##..#..#..#
##..##..#..#..#
.#..#...######.
#######.##..###
.####..#####..#
......#.##..##.
#....##..####..
#....###..#.###
#....#.##...#..
.#..#..##..##.#
##..#######..#.
.####...#.##..#

...#.#...
###....#.
..###.###
...##.###
###....#.
...#.#...
###....##
###..#...
##....##.
..#.#.#..
####.##.#
..#####..
##.##.##.
##.#.#..#
....##..#

#...#.##.
#.#..####
....#####
##.#.....
.##.##..#
.##.#####
.#.#..##.
#...#....
.#.#.....
.####.##.
.####.##.
.###.....
#...#....

#.####.###......#
########.#.####.#
#..##..##...##...
##.##.##.........
#......##.######.
....#.....#....#.
#..##..#....##...
#.#..#.##..####..
.##..##.#.######.
..####....#.##.#.
..#..#..##......#
#.####.###.####.#
.##..##..#..##..#

.......#.#.#..##.
.##....#..##.#...
..#.#.#.##..#.##.
.####.#####.##...
#.#..#...####.#.#
..#..####.#.#.###
..#..####.#.#.###
#.#..#...####.#.#
.####.#####.##...
..#.#.#.##..#.##.
.##....#..##.#...
.......#.#.#..##.
######.....#.##.#
.###.###..##.#...
.###.####.##.#...

######..#..
##..#..####
##.#.#.###.
..###..##.#
..#....##..
...#..##...
....#....#.
....#....#.
...#..##...
..#....##..
..###..##.#
##.#.#.##..
##..#..####

....#.##.##.#.###
...#..#.#...#....
..##..#.#...#....
....#.##.##.#.###
########.##.##.#.
#.##.....##...#..
.#..#....##.#....
.#.#..##.#.#.##.#
#####.#...##...##
#.#######...##...
##..#.##.#.##.###
#..#......##..#.#
#..#......##..#.#
##..#.##.#.##.###
#.#######...##...
#####.#...##...##
.#.#..##.#.#.##.#

..####..#.#.....#
##.#.#..#.#...#..
#####.#.#.#.#..##
.###...##..##.#..
##..#....##..#.#.
##..#....##..#.#.
.###...##..##.#..
#####.#.#...#..##
##.#.#..#.#...#..
..####..#.#.....#
..####..#.#.....#

..####..####....#
##..#....#..####.
.##........##..##
.....####........
#.##.####.##.##.#
##...####...####.
...#..##..#......
####.#..#.#######
##....##....####.
.#....##....#..#.
.#.##.##.##.#..#.
.#####..#####..##
##.#.#....#.####.
##..######..####.
..##.#..#.##....#

.##.##..##..#
#..#.........
#.##..##..##.
###..########
######......#
..#..########
..##.########
..#.#########
..###.##..##.
.##..#..##..#
#####.##..##.
.#...........
.#.##.##..##.
#..##.##..##.
..###########
###..########
##.#.#..##..#

....##....##.
####.#.##.#.#
..####....###
...##.#..#.##
..##..####..#
..###########
.......##....
#####.#..#.##
######....#.#

....##.#.#.##.#
....#######..##
##.#..#..#....#
###....###....#
...#...#...##..
..####....####.
...#.#.#.##..##
###......##..##
......#....##..
##.###.####..##
..#..##...#....
..#..#...#.##.#
##.#.#.....##..
##.#.##...####.
...#..#.#......
#####.####....#
##.###.##.#..#.

#.#....#.##..
##.#..#.##...
#.######.#...
.##.##.##....
#........#.#.
##.####.###..
....##.....##
##......###..
..######...##

...###.#.#.#.
#..#.##..#.#.
#.###..#.##..
#.#..###.....
#.#..###.....
#.###..#.##..
#..#.##..#.#.
...###.#.#.#.
##.##.#.###..
....#.###...#
#.#####.#.#..
#.#####.#.#..
....#..##...#

....####...#...
....#.....#.#.#
.....##...##...
..#..#..#.#..##
###..#..#.#####
##.##..##......
##..#.#.#.#.#..
....#.####.....
####.####.#.#..
..###.###...###
#######....##..
###.....####...
###..#....#.#..

..####.
###.#..
.#..###
..#.#..
####.##
#.#.#..
#.#....
.##.###
..#..##
..#..##
.##.###

##.######.###
.##########..
..#......#...
#.##.##.##.##
###......####
.#.##..####..
..########...
..#.#..#.#...
#..#.##.#..##

.##.#...##.
#.##.#.##..
#.##.#.##..
.##.#...##.
#..#.#..###
.####.###.#
...#..###..
####.#.####
###.##...##
#...#..####
##.##.....#
####.#..#..
####.#..#..
##.##.....#
#..##..####

###.#...####...#.
.###.#.#....#.#.#
#.###..##..##..##
###.#..........#.
###.#..........#.
#.###..##..##..##
.###.#.#....#.#.#
###.#...####...#.
.###...####.#...#
#..#.#..####..#.#
....##.#.##.#.##.
#.#..####..####..
##.#.#.##..##.#.#
####..#..##..#..#
..####..#..#..###
#.###..#.##.#..##
##.##..##..##..##

..##.....
###...##.
#..#.####
..##..##.
#.#.#.##.
#.#.#.##.
..###.##.
#..#.####
###...##.
..##.....
.##...##.

..##.##.###..#.
..##.##.###..#.
#.##.###.#.##.#
..###...#.##.#.
.##....##..##..
.###.######....
...####..###.##
#####.##.###.##
###..#.###.....
###.#..#.##.#..
..#..#....#.##.
###.#.##.##....
##.##....##..##
##.##....###.##
###.#.##.##....
..#..#....#.##.
###.#..#.##.#..

##.#..#...#
..###...#..
....#.#####
..#.###.##.
#######..##
###...#..#.
....###..##
..#.###..##
###...#..#.

...#.##..##.#
...#.##..##.#
#..#..#..##.#
..#.#.####.#.
..#.########.
.#.#........#
.###..####..#

#..#.#####.##..
........#...###
#####.##.#.####
#####...##.....
....#.#..######
..#.####..###..
.##.#..##.###..

#...####.
#.##.##.#
#..######
...#.##.#
...#.##.#
#..######
#.##.##.#
#...####.
#.#.#..#.
..#.#..#.
#..#.####
.#.......
..###..##
.#.##..##
.##.#..#.

....####..#
##..#######
##..##.####
....####..#
...##.##..#
.#...######
.####.#.##.
#......#..#
.##...#####
.#..##.....
#......#..#

#.#.#....###.#..#
#...###..#..#####
.#.#..####.##.##.
#.#......#...####
..###.#.##..##..#
..#.#....#.######
#..#.####..######
.##.#..#.###.....
###....#.#....##.
.##.#.###...#####
.##.#####...#####
###....#.#....##.
.##.#..#.###.....
#..#.####..######
..#.#....#.######

#..#...####
.##.###.#..
##.###....#
.....##..##
.....##..##
##.###....#
.##.###.#..
#..#...####
##..#.###..
.......##..
..##.####..
..##.####.#
.......##..

##...#..#...###
###..####..####
.###..##..###..
##.########.###
#..#..##..##.##
###..#..#..####
##.#.#..#.#.###
.#..#.##.#..#..
.#.##....##.#..
#..#......#..##
....#....#.....

.##..#####.
.....##.#..
###.###.#..
####...####
..#...##.##
#...####.##
.#...#.####
##....#....
.#.#.######
....#..#.##
....#..#.##
.#.#.######
##....#....

#.#.#.##.....
#......#####.
.###..#..#.##
.###..#..#.##
#......#####.
#.#.#.##.....
###..##..#.#.
###..##..#.#.
#.#.#.##.....
#......####..
.###..#..#.##

.#.......
#.#######
..##.####
.....#..#
#..##.##.
..#......
#..##....
#.#.##..#
.###.####
.###.####
#.#.##..#
#..##....
#.#......
#..##.##.
.....#..#
..##.####
#.#######

..##.#....#.#
....###..###.
...#...##...#
..##.#.##.#.#
####...##...#
####.#....#.#
####.#....#.#
..###......##
..###....#.##
##....#..#...
##..########.
.....######..
######.##.###

..#.######.
..#..#####.
#...#..#.##
#.#.#..##.#
##..##..#..
.#..###.###
.####.#.#.#
...#.####.#
.#..#####.#
.#..#####.#
...#.####.#
.####.#.#.#
.#..###.###
##..##..#..
#.#.#..##.#
#...#..#.##
..#..#####.

##.#.####
.##.#.#..
.##.#.#..
##.#.####
###.###..
#.#..#.##
#...##...
##.#...##
...##.###
##..#.#..
..##..#..
..#......
#.#.#.#.#

..#.####.#.
###.####.##
....####...
..#.#..#.#.
##..#..#..#
###.####..#
##..#..#..#
..#......#.
..#.#..#.#.
....#..#...
....#..#...
##.#.##.#.#
....####...

#...##..#
...#....#
..#.###.#
#....#...
..##.####
.#.#####.
.###.#...
.###.#...
.#.#####.
.###.####
#....#...
..#.###.#
...#....#
#...##..#
#.#.##.##
###.#..##
###.#..##

###.##.#..##..#
.........#..#..
#.#..#####..###
....#.##.####.#
....#.##.####.#
..#..#####..###
.........#..#..
###.##.#..##..#
##..#.####..###
.#.##.##......#
.##....#.####.#
.#.###...####..
###............
.###...#.#..#.#
#..#..#.##..##.

...####.##.##
.##..##....##
##...#......#
#...#..#..#..
#####.##..##.
###..#..##..#
#..#.##.##.##
#...##.#..#.#
##.#..##..##.
.##..#.####.#
..#..#.####.#

#.#..#.##...#.###
###..#######.#.##
.##..##..#..##..#
.#....#..#...####
.#....#..#...####
.##..##..#..##..#
###..#######.#.##
#.#..#.##...#.###
.#....#.#####...#
.#....#.#....#...
#..##..##...#....
..#..#....#....##
..####..#.##.#..#
.#.##.##...#####.
##.##.###.#.#....

..#...###
.#.#.####
.#.#.####
.##...###
..#....##
..###....
##....###
#..###...
..#.#####

..#######
###.##..#
###...#..
######..#
..####..#
..#.#....
...###..#
##..##..#
..##.#..#
..#.#....
###......
##.######
....#.##.

###.##.#####..##.
.#.####.#.#...##.
.##....##.#..#..#
.###..###.#.#....
.########..#..##.
####..####..#####
..#.##.#......##.
###.##.####..####
##########...####
#.#....#.##..####
.#..#...#.#..####

....#.##.#...
####......###
##.#..##..#.#
####.####.###
####.####.###
##..........#
..#.#.##.#.#.
...######.#..
##.##....##.#

..#.....#
..#.....#
....##.#.
##.#####.
..#..#...
..#...##.
#.#.....#

###..##..####..#.
##..#..#..##.....
.##.#..#.##..####
..##....##..#####
#.#..##..#.######
#.#......#.###..#
##..#..#..#######
..##.##.##..#.##.
####.##.#####....

..##..###.#
..#..#...#.
..###.##..#
..#.#.####.
.#..##..#..
...#.#.##.#
####......#
####......#
...#.#.##.#
.#..##..#.#
..#.#.####.
..###.##..#
..#..#...#.
..##..###.#
#....#..#.#
#....#..#.#
..##..###.#

#...#######
#.#.#######
#....#.####
#....#.####
#.#.#######
#...#######
#.##.##.###
#...#...##.
##.##..##.#
###.####.##
....##.#...

#..####
..###.#
###...#
.#.###.
.##..#.
.##.#..
.####..
.##..#.
.#.###.
###...#
..###.#
#..####
##...#.
##...#.
#..####

....##.##.#####.#
#...##.##....##.#
.###.#####..#####
...####...##...##
#.#.#.###....###.
#######...##...##
.########.##.####
..#.######..#####
#..#..#.######.#.
##..#.##..##..##.
.#..#.##..##..##.
.#.#.###..##..###
....#...##..##...
######.#......#.#
##.#######..#####
##.#######..#####
######.#......#.#

#######......##
...##.########.
#.##...........
#######......##
.#.#..##.##.##.
#.............#
#.#.....####...
##.###........#
##.##.#......#.
...###..#..#..#
.#.##..........
.####..#.##.#..
.####..#.##.#..

.#..#..####.####.
.#####...###.##.#
#.##.#...##......
.####.##...##..##
..##..#.#.#.#..#.
.####.#.#...#..#.
##..##.#..#.####.
.#..#.#.....#..#.
......#....#....#

###...#
###.#.#
#.#####
###...#
...##.#
....##.
####.#.
####.#.
....##.
...##.#
###...#
#.#####
###.#.#

#..##....##..#.#.
#..##....##..#.#.
#.....##.....#.#.
..###.##.###..###
...##....##....#.
.#..#.##.#..#.###
....#....#....#.#
.#....##....#..#.
####.####.#####.#
###.######.###...
..#..#####.#....#
#..#.#..#.#..##.#
..#..#..#..#..##.

##.#..#
##.#..#
#..####
...#...
#.#####
..#..#.
..##.#.
#.#####
...#...
#..####
##.#..#

..##........#
##..###..##..
#.##.##..##.#
......####...
.......##....
.####......##
.#..#.#..#.#.

.#..#..#.##.#
..##.....#..#
.......#...#.
#.##.###.####
#.##.###.####
.......#...#.
..##.....#..#
.#..#..#.##.#
########..###
.#..#.##.####
.####..##..##
.##.#..##.##.
.####.###.##.

#...##...###.#.##
##..####.#.#.##.#
....#..#.....##..
.#..##..#.#.#####
###........##..##
###........##...#
.#..##..#.#.#####
....#..#.....##..
##..####.#.#.##.#
#...##...###.#.##
...##.#.#.......#
##...#..###.###..
##...#..###.###..
...##.#.#.......#
#...##...###.#.##

##.#..##.##.#
#####........
#####........
##.#..##.##.#
..#.#..######
...#.....#...
...#..#..##.#
......##..#.#
..##.###.##.#
#...##.#.##..
.....####...#
#####..##.###
..#.####.###.

###.###.#
##.#.##..
..####...
...#..#.#
....##.#.
###....#.
###.###..
...#...##
..##.###.
..##.###.
...#...##
###.###..
###..#.#.
....##.#.
...#..#.#

..##..#
..##..#
..#...#
.....#.
##..##.
##.#.##
..#...#
#....#.
##.....

.#......#....#...
#........#..#...#
#..####..#..#..##
..........##.....
..#.##.#..##..#.#
.#..##..#....#..#
#..#..#..####..#.
##..##..##..##..#
..#.##.#..##..#.#
.#..##..#....#..#
#..#..#..####..#.
####..##########.
.#.#..#.#....#.#.

####.##
..##...
.#..#..
.####..
.#.....
..###..
..###..
.#.....
.####..
.#..#..
..##...
#.##.##
.#..###
#...#..
...#.##

.#.#..#.#.#####
.###..###.#....
#..#..#..######
..######.......
.#.####.#..####
##..##..#######
#...##...###..#
##......##.####
###.##.#####..#
.##....##.#####
.#.####.#.##...
#.######.######
##..##..###....
..##..##..#....
..#....#...#..#

#.##..##.#.
##########.
###.##.###.
##.#..#.###
...#..#...#
...####...#
....##....#

.....#..##.
..###.#..##
##.#...#.#.
##.....#.#.
..###.#..##
.....#..##.
.......#.##
.###.#.....
.###.#.....

...#.#..##..#
###.....##...
....#.#....#.
#.#....#..#..
#.#....#..#..
....#.#....#.
###.#...##...

##..#.####.#..##.
##..#.####.#..##.
####.#.##.#.####.
#.##........##.#.
.##..######..##.#
####..####..#.##.
..#..........#...
##..###..###..##.
.#..#..##..#..#..
##.##..##..##.###
.####......####..

..##..#.###....##
##..##..#..#..#..
#....######....##
#....#..#........
......##.#..##..#
#....#.###..##..#
#....#.##..#..#..
##..#######.....#
.####..####....##
.#..#..##.######.
#.##.#.##.######.

##.#.#.###..#
...######.#..
..###.#.#....
#.#.###.##.##
#######.#.#..
###...##.#...
.#.#.###.....
###..#.##.###
#####..######
.....#.#..###
.####..#..#..
#.###.##..###
.##.....#..##
.#.#.####....
.#.#.####....
.##.....#..##
#.###.##..###

#.#..###.####.###
#.#..###.####.###
#...###........##
.....#.########.#
.#####.#......#.#
#..#...###..###..
.##.##..#....#..#
#.#....#.####.#..
##...#.########.#
.#.##.#.#.##.#...
..##..###.##.###.

.#..##.##
....##.##
....##.##
.#..##.##
...#..#..
.#.####.#
##.#..##.
#...###.#
.####...#
....#####
#.#.#.#.#

..#..#.......
.#.##...#####
...######..#.
...######..#.
.#.##...#####
..#..#.......
#......#.###.
##..#........
#...##..###.#
##.##.#.#..#.
##.##.#.#..#.
#...##..###.#
##.##........

..####...####.#
...##.##..##...
...##.##..##...
..####...####.#
###...#...#####
.#.#.##.#.#.##.
#####..###.##..
...#.#..#..####
####..#.......#
.#.#.##.#.#..#.
..####.#.......
....#.##.#.#.#.
##..#..#..####.
##..#..#..####.
....#.##.#.#...

#..##.##.##
.#.........
#.##..##..#
#..###..###
###.##..##.
#####.##.##
##..#.##.#.
##..#....#.
.#..#....#.

##.#..#.###
.########..
.########..
##.#..#.##.
..#.##.#...
##......##.
##########.
##..##..##.
.##....##.#

...##...#.#####
.######...#####
#......##...#.#
..#..#..#######
#..###.#.....##
...##..........
...##...####..#
########....##.
##.##.##..##..#
.##..##.##....#
#.#..#.##.#..#.
.#.##.#...####.
.#.##.#...####.

..#..##..#..#...#
#.#..##.#....#.##
##.#...###..###..
##...#..##..##..#
#.###.##.####.##.
###...##..##..##.
######..######..#
######..######..#
###...##..##..##.
#.###.##.####.##.
##...#..##..##..#

#.#.##...#.
#..#.##..#.
#..#...#...
#..#...#...
#..#.##..#.
#.#.##...#.
##..#.##.##
#.##.###.##
###..##...#
#.#.##..##.
#..#.#.####
#..#.#.####
..#.##..##.

..#.#.#.#..#.#.
##.#.#...##...#
...#...#....#..
..#............
###.#..##..##..
......#..##..#.
####.#..#..#..#
###.#..######..
...#...##..##..
..##.##########
##....##....##.
###..#.#....#.#
###.#..#.##.#..
..##..##....##.
...#..#.####.#.
#.#####......##
..#..#...##...#

#..####....
####.######
.......#...
....#...#..
####.......
#..#.....##
#..#...####
#######....
....###.#.#
.........##
.....#.##..
######..###
#..##..##..
#..###.#...
#..#.#.....
#..###.##..
#..#..#.#..

#...##.#.##
#...##.#.##
.###..#.#.#
##.###..#..
..#...##..#
....##.####
##.###.#.#.
##.###...#.
....##.####
..#...##..#
##.###..#..
.###..#.#.#
#...##.#.##`
const TEST_DATA = `#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#`

function isMirror(map) {
  for (let i = 0; i < map.length - 1; i++) {
    const current = map[i];
    const next = map[i + 1];

    if(current === next) {
      let isMirror = true

      for (let j = 1; j < map.length / 2 && isMirror; j++) {
        const top = map[i - j]
        const bot = map[i + 1 + j]
        
        if (!top || !bot) break;
        if (top !== bot) isMirror = false
      }

      if (isMirror) return i
    }
  }

  return -1
}

function rotateMap(map) {
  const result = []

  for (let x = 0; x < map[0].length; x++) {
    let row = ""
    for (let y = 0; y < map.length; y++) {
      const char = map[y][x];
      row += char
    }
    result.push(row)
  }

  return result
}

function pointOfIncidence(data) {
  let result = 0
  const arrayOfMaps = data.split("\n\n").map(g => g.split("\n"))
    .map(map => {
      const reflectionIndex = isMirror(map)
      if (reflectionIndex !== -1) result += (reflectionIndex + 1) * 100
      else {
        const rotatedMap = rotateMap(map)
        const reflectionIndex = isMirror(rotatedMap)
        result += reflectionIndex + 1
      }
    })

  return result
}

const response = pointOfIncidence(DATA)
console.log(response);